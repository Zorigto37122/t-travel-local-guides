# Устранение проблем с подключением к API

## Проблема: "Не удалось подключиться к серверу"

### Проверка 1: Убедитесь, что все сервисы запущены

```bash
docker compose ps
```

Должны быть запущены:
- `db` (PostgreSQL)
- `backend` (FastAPI)
- `frontend` (Vite)

### Проверка 2: Проверьте доступность бэкенда

Откройте в браузере:
```
http://localhost:8000/docs
```

Должна открыться документация Swagger FastAPI. Если не открывается, бэкенд не запущен или недоступен.

### Проверка 3: Проверьте логи бэкенда

```bash
docker compose logs backend
```

Ищите ошибки запуска или подключения к БД.

### Проверка 4: Проверьте логи фронтенда

```bash
docker compose logs frontend
```

### Проверка 5: Перезапуск сервисов

```bash
# Остановить все
docker compose down

# Запустить заново
docker compose up --build
```

### Проверка 6: Проверьте переменные окружения

В `docker-compose.yml` должна быть установлена переменная:
```yaml
environment:
  - VITE_API_URL=http://localhost:8000
```

### Проверка 7: Проверьте консоль браузера

Откройте DevTools (F12) и проверьте:
1. Вкладка Console - должны быть логи с `API_BASE_URL`
2. Вкладка Network - проверьте, отправляется ли запрос на `/api/bookings` и какой ответ приходит

### Частые проблемы:

1. **Бэкенд не запустился** - проверьте логи `docker compose logs backend`
2. **Порт 8000 занят** - измените порт в `docker-compose.yml` или освободите порт
3. **БД не готова** - подождите несколько секунд после запуска, бэкенд должен выполнить миграции
4. **CORS ошибка** - проверьте, что в `backend/src/main.py` настроен CORS middleware
